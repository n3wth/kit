{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "use-keyboard-shortcuts",
  "description": "Declarative keyboard shortcut handler with modifier key support.",
  "files": [
    {
      "path": "registry/hooks/use-keyboard-shortcuts/use-keyboard-shortcuts.ts",
      "content": "import { useEffect, useCallback, useRef } from 'react'\n\nexport interface KeyboardShortcut {\n  key: string\n  ctrl?: boolean\n  meta?: boolean\n  shift?: boolean\n  alt?: boolean\n  handler: () => void\n  description?: string\n}\n\nexport interface UseKeyboardShortcutsOptions {\n  shortcuts: KeyboardShortcut[]\n  enabled?: boolean\n}\n\nexport function useKeyboardShortcuts({\n  shortcuts,\n  enabled = true,\n}: UseKeyboardShortcutsOptions): void {\n  const shortcutsRef = useRef(shortcuts)\n  shortcutsRef.current = shortcuts\n\n  const handleKeyDown = useCallback(\n    (event: KeyboardEvent) => {\n      if (!enabled) return\n\n      // Skip if user is typing in an input\n      const target = event.target as HTMLElement\n      if (\n        target.tagName === 'INPUT' ||\n        target.tagName === 'TEXTAREA' ||\n        target.isContentEditable\n      ) {\n        return\n      }\n\n      for (const shortcut of shortcutsRef.current) {\n        const keyMatch = event.key.toLowerCase() === shortcut.key.toLowerCase()\n        const ctrlMatch = shortcut.ctrl ? event.ctrlKey : !event.ctrlKey\n        const metaMatch = shortcut.meta ? event.metaKey : !event.metaKey\n        const shiftMatch = shortcut.shift ? event.shiftKey : !event.shiftKey\n        const altMatch = shortcut.alt ? event.altKey : !event.altKey\n\n        if (keyMatch && ctrlMatch && metaMatch && shiftMatch && altMatch) {\n          event.preventDefault()\n          shortcut.handler()\n          return\n        }\n      }\n    },\n    [enabled]\n  )\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown)\n    return () => window.removeEventListener('keydown', handleKeyDown)\n  }, [handleKeyDown])\n}\n\n// Helper to get modifier key based on OS\nexport function getModifierKey(): 'meta' | 'ctrl' {\n  if (typeof navigator === 'undefined') return 'ctrl'\n  return navigator.platform.toLowerCase().includes('mac') ? 'meta' : 'ctrl'\n}\n\n// Format shortcut for display\nexport function formatShortcut(shortcut: KeyboardShortcut): string {\n  const parts: string[] = []\n  const isMac = typeof navigator !== 'undefined' && navigator.platform.toLowerCase().includes('mac')\n\n  if (shortcut.ctrl) parts.push(isMac ? '^' : 'Ctrl')\n  if (shortcut.meta) parts.push(isMac ? '\\u2318' : 'Win')\n  if (shortcut.alt) parts.push(isMac ? '\\u2325' : 'Alt')\n  if (shortcut.shift) parts.push(isMac ? '\\u21E7' : 'Shift')\n  parts.push(shortcut.key.toUpperCase())\n\n  return parts.join(isMac ? '' : '+')\n}\n",
      "type": "registry:hook"
    }
  ],
  "type": "registry:hook"
}