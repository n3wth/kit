{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "use-toast",
  "description": "Toast notification system with context provider and variant helpers.",
  "registryDependencies": [
    "toast"
  ],
  "files": [
    {
      "path": "registry/hooks/use-toast/use-toast.ts",
      "content": "import {\n  useState,\n  useCallback,\n  useRef,\n  createContext,\n  useContext,\n  type ReactNode,\n} from 'react'\nimport { createElement } from 'react'\nimport type { ToastVariant, ToastData, ToastPosition } from '@/components/ui/toast'\nimport { Toast, ToastContainer } from '@/components/ui/toast'\n\nexport interface ToastOptions {\n  title?: string\n  description?: string\n  variant?: ToastVariant\n  duration?: number\n  icon?: ReactNode\n}\n\nexport interface UseToastReturn {\n  toasts: ToastData[]\n  toast: ToastFn\n  dismiss: (id: string) => void\n  dismissAll: () => void\n}\n\nexport interface ToastFn {\n  (options: ToastOptions): string\n  success: (options: Omit<ToastOptions, 'variant'>) => string\n  error: (options: Omit<ToastOptions, 'variant'>) => string\n  warning: (options: Omit<ToastOptions, 'variant'>) => string\n  info: (options: Omit<ToastOptions, 'variant'>) => string\n}\n\nexport interface ToastProviderProps {\n  children: ReactNode\n  maxToasts?: number\n  position?: ToastPosition\n}\n\nlet idCounter = 0\n\nfunction generateId(): string {\n  return `toast-${++idCounter}-${Date.now()}`\n}\n\nconst ToastContext = createContext<UseToastReturn | null>(null)\n\nfunction useToastState(maxToasts = 5): UseToastReturn {\n  const [toasts, setToasts] = useState<ToastData[]>([])\n  const toastsRef = useRef(toasts)\n  toastsRef.current = toasts\n\n  const dismiss = useCallback((id: string) => {\n    setToasts((prev) => prev.filter((t) => t.id !== id))\n  }, [])\n\n  const dismissAll = useCallback(() => {\n    setToasts([])\n  }, [])\n\n  const addToast = useCallback(\n    (options: ToastOptions): string => {\n      const id = generateId()\n      const newToast: ToastData = {\n        id,\n        variant: options.variant ?? 'default',\n        title: options.title,\n        description: options.description,\n        duration: options.duration ?? 5000,\n        icon: options.icon,\n      }\n\n      setToasts((prev) => {\n        const next = [...prev, newToast]\n        if (next.length > maxToasts) {\n          return next.slice(next.length - maxToasts)\n        }\n        return next\n      })\n\n      return id\n    },\n    [maxToasts]\n  )\n\n  const toast = useCallback(\n    (options: ToastOptions) => addToast(options),\n    [addToast]\n  ) as ToastFn\n\n  toast.success = useCallback(\n    (options: Omit<ToastOptions, 'variant'>) =>\n      addToast({ ...options, variant: 'success' }),\n    [addToast]\n  )\n\n  toast.error = useCallback(\n    (options: Omit<ToastOptions, 'variant'>) =>\n      addToast({ ...options, variant: 'error' }),\n    [addToast]\n  )\n\n  toast.warning = useCallback(\n    (options: Omit<ToastOptions, 'variant'>) =>\n      addToast({ ...options, variant: 'warning' }),\n    [addToast]\n  )\n\n  toast.info = useCallback(\n    (options: Omit<ToastOptions, 'variant'>) =>\n      addToast({ ...options, variant: 'info' }),\n    [addToast]\n  )\n\n  return { toasts, toast, dismiss, dismissAll }\n}\n\nexport function ToastProvider({\n  children,\n  maxToasts = 5,\n  position = 'top-right',\n}: ToastProviderProps) {\n  const state = useToastState(maxToasts)\n\n  return createElement(\n    ToastContext.Provider,\n    { value: state },\n    children,\n    createElement(\n      ToastContainer,\n      { position },\n      ...state.toasts.map((t) =>\n        createElement(Toast, {\n          key: t.id,\n          variant: t.variant,\n          title: t.title,\n          description: t.description,\n          duration: t.duration,\n          icon: t.icon,\n          onDismiss: () => state.dismiss(t.id),\n        })\n      )\n    )\n  )\n}\n\nexport function useToast(maxToasts?: number): UseToastReturn {\n  const context = useContext(ToastContext)\n  if (context) return context\n\n  // Fallback: standalone usage without provider\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return useToastState(maxToasts)\n}\n",
      "type": "registry:hook"
    }
  ],
  "type": "registry:hook"
}