{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "mobile-drawer",
  "title": "Mobile Drawer",
  "description": "Slide-in drawer for mobile navigation with focus trap.",
  "registryDependencies": [
    "cn"
  ],
  "files": [
    {
      "path": "registry/new-york/mobile-drawer/mobile-drawer.tsx",
      "content": "import { type HTMLAttributes, type ReactNode, useEffect, useRef, useCallback } from 'react'\nimport { cn } from '@/lib/utils'\n\nexport interface MobileDrawerProps extends HTMLAttributes<HTMLDivElement> {\n  /** Whether the drawer is open */\n  isOpen: boolean\n  /** Callback when drawer should close */\n  onClose: () => void\n  /** Drawer content */\n  children: ReactNode\n  /** Width of the drawer */\n  width?: string\n  /** Position of the drawer */\n  position?: 'left' | 'right'\n  /** Z-index for the drawer */\n  zIndex?: number\n  /** Accessible label for the drawer */\n  ariaLabel?: string\n}\n\nexport function MobileDrawer({\n  isOpen,\n  onClose,\n  children,\n  width = '280px',\n  position = 'right',\n  zIndex = 50,\n  ariaLabel = 'Navigation menu',\n  className,\n  ...props\n}: MobileDrawerProps) {\n  const drawerRef = useRef<HTMLDivElement>(null)\n  const previousActiveElement = useRef<HTMLElement | null>(null)\n\n  // Lock body scroll when open\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden'\n    } else {\n      document.body.style.overflow = ''\n    }\n    return () => {\n      document.body.style.overflow = ''\n    }\n  }, [isOpen])\n\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && isOpen) {\n        onClose()\n      }\n    }\n    document.addEventListener('keydown', handleEscape)\n    return () => document.removeEventListener('keydown', handleEscape)\n  }, [isOpen, onClose])\n\n  // Focus management\n  useEffect(() => {\n    if (isOpen) {\n      previousActiveElement.current = document.activeElement as HTMLElement\n      // Focus first focusable element in drawer\n      const firstFocusable = drawerRef.current?.querySelector<HTMLElement>(\n        'a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex=\"-1\"])'\n      )\n      firstFocusable?.focus()\n    } else if (previousActiveElement.current) {\n      previousActiveElement.current.focus()\n      previousActiveElement.current = null\n    }\n  }, [isOpen])\n\n  // Focus trap\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key !== 'Tab' || !drawerRef.current) return\n\n    const focusableElements = drawerRef.current.querySelectorAll<HTMLElement>(\n      'a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex=\"-1\"])'\n    )\n    const firstElement = focusableElements[0]\n    const lastElement = focusableElements[focusableElements.length - 1]\n\n    if (e.shiftKey && document.activeElement === firstElement) {\n      e.preventDefault()\n      lastElement?.focus()\n    } else if (!e.shiftKey && document.activeElement === lastElement) {\n      e.preventDefault()\n      firstElement?.focus()\n    }\n  }, [])\n\n  const translateClass =\n    position === 'right'\n      ? isOpen\n        ? 'translate-x-0'\n        : 'translate-x-full'\n      : isOpen\n        ? 'translate-x-0'\n        : '-translate-x-full'\n\n  const positionClass = position === 'right' ? 'right-0' : 'left-0'\n\n  return (\n    <div className={className}>\n      {/* Backdrop overlay */}\n      <div\n        className={cn(\n          'fixed inset-0 bg-black/50 transition-opacity duration-300',\n          isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'\n        )}\n        style={{ zIndex }}\n        onClick={onClose}\n        aria-hidden=\"true\"\n      />\n\n      {/* Drawer panel */}\n      <div\n        ref={drawerRef}\n        role=\"dialog\"\n        aria-modal={isOpen}\n        aria-label={ariaLabel}\n        aria-hidden={!isOpen}\n        className={cn(\n          'mobile-menu-drawer',\n          'fixed top-0 h-full',\n          'transition-transform duration-300 ease-out',\n          translateClass,\n          positionClass\n        )}\n        style={{\n          width,\n          maxWidth: '80vw',\n          zIndex: zIndex + 1,\n        }}\n        onKeyDown={handleKeyDown}\n        {...props}\n      >\n        {children}\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}