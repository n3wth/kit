{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "code-block",
  "title": "Code Block",
  "description": "Lightweight syntax-highlighting code block with line numbers.",
  "registryDependencies": [
    "cn"
  ],
  "files": [
    {
      "path": "registry/new-york/code-block/code-block.tsx",
      "content": "import { useMemo } from 'react'\nimport { cn } from '@/lib/utils'\n\nexport interface CodeBlockProps {\n  /** Code string to display */\n  code: string\n  /** Programming language for syntax highlighting */\n  language?: 'javascript' | 'typescript' | 'json' | 'bash' | 'css'\n  /** Show line numbers */\n  showLineNumbers?: boolean\n  /** Additional class names */\n  className?: string\n}\n\ninterface Token {\n  type:\n    | 'keyword'\n    | 'string'\n    | 'number'\n    | 'comment'\n    | 'property'\n    | 'punctuation'\n    | 'text'\n  value: string\n}\n\nconst COLORS = {\n  keyword: 'var(--color-coral)',\n  string: 'var(--color-mint)',\n  number: 'var(--color-gold)',\n  comment: 'var(--color-grey-500)',\n  property: 'var(--color-sage)',\n  punctuation: 'var(--color-grey-400)',\n  text: 'var(--color-grey-200)',\n}\n\nfunction tokenize(code: string): Token[] {\n  const tokens: Token[] = []\n  let remaining = code\n\n  const patterns: [RegExp, Token['type']][] = [\n    [/^\\/\\/.*$/m, 'comment'],\n    [/^\\/\\*[\\s\\S]*?\\*\\//, 'comment'],\n    [/^#.*$/m, 'comment'], // bash comments\n    [/^'[^']*'/, 'string'],\n    [/^\"[^\"]*\"/, 'string'],\n    [/^`[^`]*`/, 'string'],\n    [\n      /^\\b(const|let|var|function|return|if|else|for|while|import|export|from|default|class|extends|new|this|true|false|null|undefined|async|await|try|catch|throw|finally|typeof|instanceof|in|of|yield|switch|case|break|continue|do|with|debugger|delete|void)\\b/,\n      'keyword',\n    ],\n    [/^\\b\\d+(\\.\\d+)?\\b/, 'number'],\n    [/^[a-zA-Z_][a-zA-Z0-9_]*(?=\\s*:)/, 'property'],\n    [/^[{}[\\](),;:=<>!&|?+\\-*/%^~]/, 'punctuation'],\n    [/^\\s+/, 'text'],\n    [/^[^\\s{}[\\](),;:'\"`=<>!&|?+\\-*/%^~]+/, 'text'],\n  ]\n\n  while (remaining.length > 0) {\n    let matched = false\n\n    for (const [pattern, type] of patterns) {\n      const match = remaining.match(pattern)\n      if (match) {\n        tokens.push({ type, value: match[0] })\n        remaining = remaining.slice(match[0].length)\n        matched = true\n        break\n      }\n    }\n\n    if (!matched) {\n      tokens.push({ type: 'text', value: remaining[0] })\n      remaining = remaining.slice(1)\n    }\n  }\n\n  return tokens\n}\n\n/**\n * Lightweight syntax highlighting code block\n * No external dependencies, uses CSS custom properties for theming\n */\nexport function CodeBlock({\n  code,\n  language: _language = 'javascript',\n  showLineNumbers = false,\n  className,\n}: CodeBlockProps) {\n  const tokens = useMemo(() => tokenize(code), [code])\n  const lines = useMemo(() => code.split('\\n'), [code])\n\n  return (\n    <pre\n      className={cn(\n        'text-sm font-mono whitespace-pre overflow-x-auto',\n        'bg-[var(--glass-bg)] rounded-lg p-4',\n        'border border-[var(--glass-border)]',\n        className\n      )}\n      style={{ color: 'var(--color-grey-200)' }}\n    >\n      <code className={showLineNumbers ? 'flex' : undefined}>\n        {showLineNumbers && (\n          <span className=\"select-none pr-4 text-[var(--color-grey-600)] border-r border-[var(--glass-border)] mr-4\">\n            {lines.map((_, i) => (\n              <span key={i} className=\"block\">\n                {i + 1}\n              </span>\n            ))}\n          </span>\n        )}\n        <span className={showLineNumbers ? 'flex-1' : undefined}>\n          {tokens.map((token, i) => (\n            <span key={i} style={{ color: COLORS[token.type] }}>\n              {token.value}\n            </span>\n          ))}\n        </span>\n      </code>\n    </pre>\n  )\n}\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}